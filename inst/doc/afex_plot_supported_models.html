<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />

<meta name="viewport" content="width=device-width, initial-scale=1" />

<meta name="author" content="Henrik Singmann" />

<meta name="date" content="2024-09-01" />

<title>afex_plot: Supported Models</title>

<script>// Pandoc 2.9 adds attributes on both header and div. We remove the former (to
// be compatible with the behavior of Pandoc < 2.8).
document.addEventListener('DOMContentLoaded', function(e) {
  var hs = document.querySelectorAll("div.section[class*='level'] > :first-child");
  var i, h, a;
  for (i = 0; i < hs.length; i++) {
    h = hs[i];
    if (!/^h[1-6]$/i.test(h.tagName)) continue;  // it should be a header h1-h6
    a = h.attributes;
    while (a.length > 0) h.removeAttribute(a[0].name);
  }
});
</script>

<style type="text/css">
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
span.underline{text-decoration: underline;}
div.column{display: inline-block; vertical-align: top; width: 50%;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
</style>



<style type="text/css">
code {
white-space: pre;
}
.sourceCode {
overflow: visible;
}
</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
{ counter-reset: source-line 0; }
pre.numberSource code > span
{ position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
{ content: counter(source-line);
position: relative; left: -1em; text-align: right; vertical-align: baseline;
border: none; display: inline-block;
-webkit-touch-callout: none; -webkit-user-select: none;
-khtml-user-select: none; -moz-user-select: none;
-ms-user-select: none; user-select: none;
padding: 0 4px; width: 4em;
color: #aaaaaa;
}
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa; padding-left: 4px; }
div.sourceCode
{ }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } 
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.at { color: #7d9029; } 
code span.bn { color: #40a070; } 
code span.bu { color: #008000; } 
code span.cf { color: #007020; font-weight: bold; } 
code span.ch { color: #4070a0; } 
code span.cn { color: #880000; } 
code span.co { color: #60a0b0; font-style: italic; } 
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.do { color: #ba2121; font-style: italic; } 
code span.dt { color: #902000; } 
code span.dv { color: #40a070; } 
code span.er { color: #ff0000; font-weight: bold; } 
code span.ex { } 
code span.fl { color: #40a070; } 
code span.fu { color: #06287e; } 
code span.im { color: #008000; font-weight: bold; } 
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.kw { color: #007020; font-weight: bold; } 
code span.op { color: #666666; } 
code span.ot { color: #007020; } 
code span.pp { color: #bc7a00; } 
code span.sc { color: #4070a0; } 
code span.ss { color: #bb6688; } 
code span.st { color: #4070a0; } 
code span.va { color: #19177c; } 
code span.vs { color: #4070a0; } 
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } 
</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    var j = 0;
    while (j < rules.length) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") {
        j++;
        continue;
      }
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') {
        j++;
        continue;
      }
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>




<style type="text/css">body {
background-color: #fff;
margin: 1em auto;
max-width: 700px;
overflow: visible;
padding-left: 2em;
padding-right: 2em;
font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
font-size: 14px;
line-height: 1.35;
}
#TOC {
clear: both;
margin: 0 0 10px 10px;
padding: 4px;
width: 400px;
border: 1px solid #CCCCCC;
border-radius: 5px;
background-color: #f6f6f6;
font-size: 13px;
line-height: 1.3;
}
#TOC .toctitle {
font-weight: bold;
font-size: 15px;
margin-left: 5px;
}
#TOC ul {
padding-left: 40px;
margin-left: -1.5em;
margin-top: 5px;
margin-bottom: 5px;
}
#TOC ul ul {
margin-left: -2em;
}
#TOC li {
line-height: 16px;
}
table {
margin: 1em auto;
border-width: 1px;
border-color: #DDDDDD;
border-style: outset;
border-collapse: collapse;
}
table th {
border-width: 2px;
padding: 5px;
border-style: inset;
}
table td {
border-width: 1px;
border-style: inset;
line-height: 18px;
padding: 5px 5px;
}
table, table th, table td {
border-left-style: none;
border-right-style: none;
}
table thead, table tr.even {
background-color: #f7f7f7;
}
p {
margin: 0.5em 0;
}
blockquote {
background-color: #f6f6f6;
padding: 0.25em 0.75em;
}
hr {
border-style: solid;
border: none;
border-top: 1px solid #777;
margin: 28px 0;
}
dl {
margin-left: 0;
}
dl dd {
margin-bottom: 13px;
margin-left: 13px;
}
dl dt {
font-weight: bold;
}
ul {
margin-top: 0;
}
ul li {
list-style: circle outside;
}
ul ul {
margin-bottom: 0;
}
pre, code {
background-color: #f7f7f7;
border-radius: 3px;
color: #333;
white-space: pre-wrap; 
}
pre {
border-radius: 3px;
margin: 5px 0px 10px 0px;
padding: 10px;
}
pre:not([class]) {
background-color: #f7f7f7;
}
code {
font-family: Consolas, Monaco, 'Courier New', monospace;
font-size: 85%;
}
p > code, li > code {
padding: 2px 0px;
}
div.figure {
text-align: center;
}
img {
background-color: #FFFFFF;
padding: 2px;
border: 1px solid #DDDDDD;
border-radius: 3px;
border: 1px solid #CCCCCC;
margin: 0 5px;
}
h1 {
margin-top: 0;
font-size: 35px;
line-height: 40px;
}
h2 {
border-bottom: 4px solid #f7f7f7;
padding-top: 10px;
padding-bottom: 2px;
font-size: 145%;
}
h3 {
border-bottom: 2px solid #f7f7f7;
padding-top: 10px;
font-size: 120%;
}
h4 {
border-bottom: 1px solid #f7f7f7;
margin-left: 8px;
font-size: 105%;
}
h5, h6 {
border-bottom: 1px solid #ccc;
font-size: 105%;
}
a {
color: #0033dd;
text-decoration: none;
}
a:hover {
color: #6666ff; }
a:visited {
color: #800080; }
a:visited:hover {
color: #BB00BB; }
a[href^="http:"] {
text-decoration: underline; }
a[href^="https:"] {
text-decoration: underline; }

code > span.kw { color: #555; font-weight: bold; } 
code > span.dt { color: #902000; } 
code > span.dv { color: #40a070; } 
code > span.bn { color: #d14; } 
code > span.fl { color: #d14; } 
code > span.ch { color: #d14; } 
code > span.st { color: #d14; } 
code > span.co { color: #888888; font-style: italic; } 
code > span.ot { color: #007020; } 
code > span.al { color: #ff0000; font-weight: bold; } 
code > span.fu { color: #900; font-weight: bold; } 
code > span.er { color: #a61717; background-color: #e3d2d2; } 
</style>




</head>

<body>




<h1 class="title toc-ignore">afex_plot: Supported Models</h1>
<h4 class="author">Henrik Singmann</h4>
<h4 class="date">2024-09-01</h4>


<div id="TOC">
<ul>
<li><a href="#introduction" id="toc-introduction">Introduction</a></li>
<li><a href="#base-r-stats-models-lm-glm" id="toc-base-r-stats-models-lm-glm">Base R stats models: lm,
glm</a></li>
<li><a href="#nlme-mixed-model" id="toc-nlme-mixed-model">nlme mixed
model</a></li>
<li><a href="#glmmtmb" id="toc-glmmtmb">glmmTMB</a></li>
<li><a href="#rstanarm" id="toc-rstanarm">rstanarm</a></li>
<li><a href="#brms" id="toc-brms">brms</a></li>
<li><a href="#not-yet-supported-glmmadaptive" id="toc-not-yet-supported-glmmadaptive">Not Yet Supported:
GLMMadaptive</a></li>
</ul>
</div>

<div id="introduction" class="section level1">
<h1>Introduction</h1>
<p><code>afex_plot()</code> visualizes results from factorial
experiments and, more generally, data set with interactions of
categorical/factor variables. It does so by combining estimated marginal
means and uncertainties associated with these means in the foreground
with a depiction of the raw data in the background. If models include
continuous covariates, other approaches are recommended (e.g., such as
implemented in package <a href="https://cran.r-project.org/package=effects"><code>effects</code></a>
or by using the possibility of <code>afex_plot</code> <a href="https://github.com/singmann/afex/issues/65">to return the data and
build the plot on ones own</a>).</p>
<p>This document provides an overview of the different models supported
by <code>afex_plot()</code> in addition to the <code>afex</code> objects
(i.e., <code>afex_aov</code> and <code>mixed</code>). In general, these
are models which are supported by the <a href="https://cran.r-project.org/package=emmeans"><code>emmeans</code></a>
package as the <code>afex_plot.default()</code> method uses
<code>emmeans</code> to get the estimated marginal means.
<code>afex_plot.default()</code> then guesses whether there are repeated
measures or all samples are independent. Based on this guess (which can
be changed via the <code>id</code> argument) data in the background is
plotted. Calculation of error bars can also be based on this guess (but
the default is to plot the model based error bars obtained from
<code>emmeans</code>).</p>
<p>For a generally introduction to the functionality of
<code>afex_plot</code> see: <a href="afex_plot_introduction.html"><code>afex_plot</code>: Publication
Ready Plots for Experimental Designs</a></p>
<p>Throughout the document, we will need <code>afex</code> as well as
<code>ggplot2</code>. In addition, we load <a href="https://cran.r-project.org/package=cowplot"><code>cowplot</code></a>
for function <code>plot_grid()</code> (which allows to easily combine
multiple <code>ggplot2</code> plots). In addition, we will set a
somewhat nicer <code>ggplot2</code> theme.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="fu">library</span>(<span class="st">&quot;afex&quot;</span>)     </span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a><span class="fu">library</span>(<span class="st">&quot;ggplot2&quot;</span>)  </span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a><span class="fu">library</span>(<span class="st">&quot;cowplot&quot;</span>)</span>
<span id="cb1-4"><a href="#cb1-4" tabindex="-1"></a><span class="fu">theme_set</span>(<span class="fu">theme_bw</span>(<span class="at">base_size =</span> <span class="dv">14</span>) <span class="sc">+</span> </span>
<span id="cb1-5"><a href="#cb1-5" tabindex="-1"></a>            <span class="fu">theme</span>(<span class="at">legend.position=</span><span class="st">&quot;bottom&quot;</span>, </span>
<span id="cb1-6"><a href="#cb1-6" tabindex="-1"></a>                  <span class="at">panel.grid.major.x =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb1-7"><a href="#cb1-7" tabindex="-1"></a>                  <span class="at">panel.grid.minor.x =</span> <span class="fu">element_blank</span>()))</span></code></pre></div>
<p>Importantly, we also set the contrasts for the current <code>R</code>
session to sum-to-zero contrasts. For models that include interactions
with categorical variables this generally produces estimates that are
easier to interpret.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a><span class="fu">set_sum_contrasts</span>()</span>
<span id="cb2-2"><a href="#cb2-2" tabindex="-1"></a><span class="do">## setting contr.sum globally: options(contrasts=c(&#39;contr.sum&#39;, &#39;contr.poly&#39;))</span></span></code></pre></div>
<p>Please note, the best way to export a figure is via
<code>ggsave()</code> or a similar function call. For Word and similar
document formats, <code>png</code> is a good file type, for
<code>LaTeX</code> and similar document formats, <code>pdf</code> is a
good file type.</p>
</div>
<div id="base-r-stats-models-lm-glm" class="section level1">
<h1>Base R stats models: lm, glm</h1>
<p><code>afex_plot()</code> generally supports models implemeneted via
the <code>stats</code> package. Here I show the main model functions
that work with independent samples. These models can be passed to
<code>afex_plot</code> without specifying additional arguments.</p>
<p>Most importantly, <code>lm</code> models work directly. For those we
use the <code>warpbreaks</code> data.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a>warp.lm <span class="ot">&lt;-</span> <span class="fu">lm</span>(breaks <span class="sc">~</span> wool <span class="sc">*</span> tension, <span class="at">data =</span> warpbreaks)</span></code></pre></div>
<p>Note that <code>afex_plot</code> produces several messages that are
shown here as comments below the corresponding calls. Important is maybe
that <code>afex_plot</code> assumes all observations (i.e., rows) are
independent. This is of course the case here. In addition, for the first
plot we are informed that the presence of an interaction may lead to a
misleading impression if only a lower-order effect (here a main effect)
is shown. This message is produced by <code>emmeans</code> and passed
through.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a>p1 <span class="ot">&lt;-</span> <span class="fu">afex_plot</span>(warp.lm, <span class="st">&quot;tension&quot;</span>)</span>
<span id="cb4-2"><a href="#cb4-2" tabindex="-1"></a><span class="do">## dv column detected: breaks</span></span>
<span id="cb4-3"><a href="#cb4-3" tabindex="-1"></a><span class="do">## No id column passed. Assuming all rows are independent samples.</span></span>
<span id="cb4-4"><a href="#cb4-4" tabindex="-1"></a><span class="do">## </span><span class="al">NOTE</span><span class="do">: Results may be misleading due to involvement in interactions</span></span>
<span id="cb4-5"><a href="#cb4-5" tabindex="-1"></a> r</span>
<span id="cb4-6"><a href="#cb4-6" tabindex="-1"></a>p2 <span class="ot">&lt;-</span> <span class="fu">afex_plot</span>(warp.lm, <span class="st">&quot;tension&quot;</span>, <span class="st">&quot;wool&quot;</span>)</span>
<span id="cb4-7"><a href="#cb4-7" tabindex="-1"></a><span class="do">## dv column detected: breaks</span></span>
<span id="cb4-8"><a href="#cb4-8" tabindex="-1"></a><span class="do">## No id column passed. Assuming all rows are independent samples.</span></span>
<span id="cb4-9"><a href="#cb4-9" tabindex="-1"></a> r</span>
<span id="cb4-10"><a href="#cb4-10" tabindex="-1"></a><span class="fu">plot_grid</span>(p1, p2)</span></code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
<p><code>glm</code> models also work without further setting. Here we
first use a poisson GLM for which we need to generate the data.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a>ins <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb5-2"><a href="#cb5-2" tabindex="-1"></a>    <span class="at">n =</span> <span class="fu">c</span>(<span class="dv">500</span>, <span class="dv">1200</span>, <span class="dv">100</span>, <span class="dv">400</span>, <span class="dv">500</span>, <span class="dv">300</span>),</span>
<span id="cb5-3"><a href="#cb5-3" tabindex="-1"></a>    <span class="at">size =</span> <span class="fu">factor</span>(<span class="fu">rep</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>,<span class="dv">2</span>), <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">&quot;S&quot;</span>,<span class="st">&quot;M&quot;</span>,<span class="st">&quot;L&quot;</span>)),</span>
<span id="cb5-4"><a href="#cb5-4" tabindex="-1"></a>    <span class="at">age =</span> <span class="fu">factor</span>(<span class="fu">rep</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>, <span class="at">each =</span> <span class="dv">3</span>)),</span>
<span id="cb5-5"><a href="#cb5-5" tabindex="-1"></a>    <span class="at">claims =</span> <span class="fu">c</span>(<span class="dv">42</span>, <span class="dv">37</span>, <span class="dv">1</span>, <span class="dv">101</span>, <span class="dv">73</span>, <span class="dv">14</span>))</span></code></pre></div>
<p>We can then fit the data and pass the model object as is.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" tabindex="-1"></a>ins.glm <span class="ot">&lt;-</span> <span class="fu">glm</span>(claims <span class="sc">~</span> size <span class="sc">+</span> age <span class="sc">+</span> <span class="fu">offset</span>(<span class="fu">log</span>(n)), </span>
<span id="cb6-2"><a href="#cb6-2" tabindex="-1"></a>               <span class="at">data =</span> ins, <span class="at">family =</span> <span class="st">&quot;poisson&quot;</span>)</span>
<span id="cb6-3"><a href="#cb6-3" tabindex="-1"></a><span class="fu">afex_plot</span>(ins.glm, <span class="st">&quot;size&quot;</span>, <span class="st">&quot;age&quot;</span>)</span>
<span id="cb6-4"><a href="#cb6-4" tabindex="-1"></a><span class="do">## dv column detected: claims</span></span>
<span id="cb6-5"><a href="#cb6-5" tabindex="-1"></a><span class="do">## No id column passed. Assuming all rows are independent samples.</span></span></code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
<p><code>afex_plot</code> also works with binomial GLMs for which we
also first need to generate some data which we will then fit.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a><span class="do">## binomial glm adapted from ?predict.glm</span></span>
<span id="cb7-2"><a href="#cb7-2" tabindex="-1"></a>ldose <span class="ot">&lt;-</span> <span class="fu">factor</span>(<span class="fu">rep</span>(<span class="dv">0</span><span class="sc">:</span><span class="dv">5</span>, <span class="dv">2</span>))</span>
<span id="cb7-3"><a href="#cb7-3" tabindex="-1"></a>numdead <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">4</span>, <span class="dv">9</span>, <span class="dv">13</span>, <span class="dv">18</span>, <span class="dv">20</span>, <span class="dv">0</span>, <span class="dv">2</span>, <span class="dv">6</span>, <span class="dv">10</span>, <span class="dv">12</span>, <span class="dv">16</span>)</span>
<span id="cb7-4"><a href="#cb7-4" tabindex="-1"></a>sex <span class="ot">&lt;-</span> <span class="fu">factor</span>(<span class="fu">rep</span>(<span class="fu">c</span>(<span class="st">&quot;M&quot;</span>, <span class="st">&quot;F&quot;</span>), <span class="fu">c</span>(<span class="dv">6</span>, <span class="dv">6</span>)))</span>
<span id="cb7-5"><a href="#cb7-5" tabindex="-1"></a>SF <span class="ot">&lt;-</span> numdead<span class="sc">/</span><span class="dv">20</span>  <span class="do">## dv should be a vector, no matrix</span></span>
<span id="cb7-6"><a href="#cb7-6" tabindex="-1"></a>budworm.lg <span class="ot">&lt;-</span> <span class="fu">glm</span>(SF <span class="sc">~</span> sex<span class="sc">*</span>ldose, <span class="at">family =</span> binomial, </span>
<span id="cb7-7"><a href="#cb7-7" tabindex="-1"></a>                  <span class="at">weights =</span> <span class="fu">rep</span>(<span class="dv">20</span>, <span class="fu">length</span>(numdead)))</span></code></pre></div>
<p>For this model, we will produce three plots we can then compare. The
first only shows the main effect of one variable (<code>ldose</code>).
The other show the interaction of the two variables. Because for
binomial GLMs we then only have one data point (with several
observations), the individual data points and mean cannot be
distinguished. This is made clear in the ther two (panels B and C).</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" tabindex="-1"></a>a <span class="ot">&lt;-</span> <span class="fu">afex_plot</span>(budworm.lg, <span class="st">&quot;ldose&quot;</span>)</span>
<span id="cb8-2"><a href="#cb8-2" tabindex="-1"></a><span class="do">## dv column detected: SF</span></span>
<span id="cb8-3"><a href="#cb8-3" tabindex="-1"></a><span class="do">## No id column passed. Assuming all rows are independent samples.</span></span>
<span id="cb8-4"><a href="#cb8-4" tabindex="-1"></a><span class="do">## </span><span class="al">NOTE</span><span class="do">: Results may be misleading due to involvement in interactions</span></span>
<span id="cb8-5"><a href="#cb8-5" tabindex="-1"></a> r</span>
<span id="cb8-6"><a href="#cb8-6" tabindex="-1"></a>b <span class="ot">&lt;-</span> <span class="fu">afex_plot</span>(budworm.lg, <span class="st">&quot;ldose&quot;</span>, <span class="st">&quot;sex&quot;</span>) <span class="do">## data point is hidden behind mean!</span></span>
<span id="cb8-7"><a href="#cb8-7" tabindex="-1"></a><span class="do">## dv column detected: SF</span></span>
<span id="cb8-8"><a href="#cb8-8" tabindex="-1"></a><span class="do">## No id column passed. Assuming all rows are independent samples.</span></span>
<span id="cb8-9"><a href="#cb8-9" tabindex="-1"></a> r</span>
<span id="cb8-10"><a href="#cb8-10" tabindex="-1"></a>c <span class="ot">&lt;-</span> <span class="fu">afex_plot</span>(budworm.lg, <span class="st">&quot;ldose&quot;</span>, <span class="st">&quot;sex&quot;</span>, </span>
<span id="cb8-11"><a href="#cb8-11" tabindex="-1"></a>          <span class="at">data_arg =</span> <span class="fu">list</span>(<span class="at">size =</span> <span class="dv">4</span>, <span class="at">color =</span> <span class="st">&quot;red&quot;</span>))</span>
<span id="cb8-12"><a href="#cb8-12" tabindex="-1"></a><span class="do">## dv column detected: SF</span></span>
<span id="cb8-13"><a href="#cb8-13" tabindex="-1"></a><span class="do">## No id column passed. Assuming all rows are independent samples.</span></span>
<span id="cb8-14"><a href="#cb8-14" tabindex="-1"></a> r</span>
<span id="cb8-15"><a href="#cb8-15" tabindex="-1"></a><span class="fu">plot_grid</span>(a, b, c, <span class="at">labels =</span> <span class="st">&quot;AUTO&quot;</span>, <span class="at">nrow =</span> <span class="dv">1</span>)</span></code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
</div>
<div id="nlme-mixed-model" class="section level1">
<h1>nlme mixed model</h1>
<p>Hot to use <code>afex_plot</code> for mixed models fitted with
<code>afex::mixed</code> (or <a href="https://cran.r-project.org/package=lme4"><code>lme4</code></a>
directly) is shown in the <a href="afex_plot_introduction.html">other
vignette</a>. However, we can also use <code>afex_plot</code> for mixed
models fitted with the older <code>nlme</code> package. For this,
however we need to pass the data used for fitting via the
<code>data</code> argument.</p>
<p>We can change on which of the two nested factors the individual data
points in the background are based via the <code>id</code> argument.
This is shown below.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" tabindex="-1"></a><span class="do">## nlme mixed model</span></span>
<span id="cb9-2"><a href="#cb9-2" tabindex="-1"></a><span class="fu">data</span>(Oats, <span class="at">package =</span> <span class="st">&quot;nlme&quot;</span>)</span>
<span id="cb9-3"><a href="#cb9-3" tabindex="-1"></a>Oats<span class="sc">$</span>nitro <span class="ot">&lt;-</span> <span class="fu">factor</span>(Oats<span class="sc">$</span>nitro)</span>
<span id="cb9-4"><a href="#cb9-4" tabindex="-1"></a>oats<span class="fl">.1</span> <span class="ot">&lt;-</span> nlme<span class="sc">::</span><span class="fu">lme</span>(yield <span class="sc">~</span> nitro <span class="sc">*</span> Variety, </span>
<span id="cb9-5"><a href="#cb9-5" tabindex="-1"></a>                    <span class="at">random =</span> <span class="sc">~</span> <span class="dv">1</span> <span class="sc">|</span> Block <span class="sc">/</span> Variety,</span>
<span id="cb9-6"><a href="#cb9-6" tabindex="-1"></a>                    <span class="at">data =</span> Oats)</span>
<span id="cb9-7"><a href="#cb9-7" tabindex="-1"></a><span class="fu">plot_grid</span>(</span>
<span id="cb9-8"><a href="#cb9-8" tabindex="-1"></a>  <span class="fu">afex_plot</span>(oats<span class="fl">.1</span>, <span class="st">&quot;nitro&quot;</span>, <span class="st">&quot;Variety&quot;</span>, <span class="at">data =</span> Oats), <span class="co"># A</span></span>
<span id="cb9-9"><a href="#cb9-9" tabindex="-1"></a>  <span class="fu">afex_plot</span>(oats<span class="fl">.1</span>, <span class="st">&quot;nitro&quot;</span>, <span class="st">&quot;Variety&quot;</span>, <span class="at">data =</span> Oats), <span class="co"># B</span></span>
<span id="cb9-10"><a href="#cb9-10" tabindex="-1"></a>  <span class="fu">afex_plot</span>(oats<span class="fl">.1</span>, <span class="st">&quot;nitro&quot;</span>, <span class="st">&quot;Variety&quot;</span>, <span class="at">data =</span> Oats, <span class="at">id =</span> <span class="st">&quot;Block&quot;</span>), <span class="co"># C</span></span>
<span id="cb9-11"><a href="#cb9-11" tabindex="-1"></a>  <span class="fu">afex_plot</span>(oats<span class="fl">.1</span>, <span class="st">&quot;nitro&quot;</span>, <span class="at">data =</span> Oats), <span class="co"># D</span></span>
<span id="cb9-12"><a href="#cb9-12" tabindex="-1"></a>  <span class="fu">afex_plot</span>(oats<span class="fl">.1</span>, <span class="st">&quot;nitro&quot;</span>, <span class="at">data =</span> Oats, <span class="at">id =</span> <span class="fu">c</span>(<span class="st">&quot;Block&quot;</span>, <span class="st">&quot;Variety&quot;</span>)), <span class="co"># E</span></span>
<span id="cb9-13"><a href="#cb9-13" tabindex="-1"></a>  <span class="fu">afex_plot</span>(oats<span class="fl">.1</span>, <span class="st">&quot;nitro&quot;</span>, <span class="at">data =</span> Oats, <span class="at">id =</span> <span class="st">&quot;Block&quot;</span>), <span class="co"># F</span></span>
<span id="cb9-14"><a href="#cb9-14" tabindex="-1"></a>  <span class="at">labels =</span> <span class="st">&quot;AUTO&quot;</span></span>
<span id="cb9-15"><a href="#cb9-15" tabindex="-1"></a>)</span>
<span id="cb9-16"><a href="#cb9-16" tabindex="-1"></a><span class="do">## dv column detected: yield</span></span>
<span id="cb9-17"><a href="#cb9-17" tabindex="-1"></a><span class="do">## No id column passed. Assuming all rows are independent samples.</span></span>
<span id="cb9-18"><a href="#cb9-18" tabindex="-1"></a><span class="do">## dv column detected: yield</span></span>
<span id="cb9-19"><a href="#cb9-19" tabindex="-1"></a><span class="do">## No id column passed. Assuming all rows are independent samples.</span></span>
<span id="cb9-20"><a href="#cb9-20" tabindex="-1"></a><span class="do">## dv column detected: yield</span></span>
<span id="cb9-21"><a href="#cb9-21" tabindex="-1"></a><span class="do">## dv column detected: yield</span></span>
<span id="cb9-22"><a href="#cb9-22" tabindex="-1"></a><span class="do">## No id column passed. Assuming all rows are independent samples.</span></span>
<span id="cb9-23"><a href="#cb9-23" tabindex="-1"></a><span class="do">## </span><span class="al">NOTE</span><span class="do">: Results may be misleading due to involvement in interactions</span></span>
<span id="cb9-24"><a href="#cb9-24" tabindex="-1"></a><span class="do">## dv column detected: yield</span></span>
<span id="cb9-25"><a href="#cb9-25" tabindex="-1"></a><span class="do">## </span><span class="al">NOTE</span><span class="do">: Results may be misleading due to involvement in interactions</span></span>
<span id="cb9-26"><a href="#cb9-26" tabindex="-1"></a><span class="do">## dv column detected: yield</span></span>
<span id="cb9-27"><a href="#cb9-27" tabindex="-1"></a><span class="do">## </span><span class="al">NOTE</span><span class="do">: Results may be misleading due to involvement in interactions</span></span></code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
</div>
<div id="glmmtmb" class="section level1">
<h1>glmmTMB</h1>
<p>Support for <a href="https://cran.r-project.org/package=glmmTMB"><code>glmmTMB</code></a>
is also provided. Here we use an example data set for which we model
zero-inflation as well as overdispersion. The latter is achieved with a
variant of the negative binomial distribution.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" tabindex="-1"></a><span class="fu">library</span>(<span class="st">&quot;glmmTMB&quot;</span>)</span>
<span id="cb10-2"><a href="#cb10-2" tabindex="-1"></a>tmb <span class="ot">&lt;-</span> <span class="fu">glmmTMB</span>(count<span class="sc">~</span>spp <span class="sc">*</span> mined <span class="sc">+</span> (<span class="dv">1</span><span class="sc">|</span>site), </span>
<span id="cb10-3"><a href="#cb10-3" tabindex="-1"></a>              <span class="at">ziformula =</span> <span class="sc">~</span>spp <span class="sc">*</span> mined, </span>
<span id="cb10-4"><a href="#cb10-4" tabindex="-1"></a>              <span class="at">family=</span>nbinom2, Salamanders)</span></code></pre></div>
<p><code>afex_plot</code> does not automatically detect the
random-effect for <code>site</code>. This means that per default all 644
data points are shown. When plotting only one variable, in which the
default <code>data_geom</code> is
<code>ggbeeswarm::geom_beeswarm</code>, this can lead to rather ugly
plots due to the zero inflation. This is shon in panel A below. In panel
B, we address this by changing the geom to a violin plot. In panel C, we
address this by aggregating the data within site, but still use the
beeswarm plot. Note that for panel C it is necessary to pass the data
via the <code>data</code> argument as otherwise <code>site</code> cannot
be found for aggregation.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" tabindex="-1"></a><span class="fu">plot_grid</span>(</span>
<span id="cb11-2"><a href="#cb11-2" tabindex="-1"></a>  <span class="fu">afex_plot</span>(tmb, <span class="st">&quot;spp&quot;</span>),</span>
<span id="cb11-3"><a href="#cb11-3" tabindex="-1"></a>  <span class="fu">afex_plot</span>(tmb, <span class="st">&quot;spp&quot;</span>, <span class="at">data_geom =</span> geom_violin),</span>
<span id="cb11-4"><a href="#cb11-4" tabindex="-1"></a>  <span class="fu">afex_plot</span>(tmb, <span class="st">&quot;spp&quot;</span>, <span class="at">id =</span> <span class="st">&quot;site&quot;</span>, <span class="at">data =</span> Salamanders), </span>
<span id="cb11-5"><a href="#cb11-5" tabindex="-1"></a>  <span class="at">labels =</span> <span class="st">&quot;AUTO&quot;</span>, <span class="at">nrow =</span> <span class="dv">1</span></span>
<span id="cb11-6"><a href="#cb11-6" tabindex="-1"></a>)</span>
<span id="cb11-7"><a href="#cb11-7" tabindex="-1"></a><span class="do">## dv column detected: count</span></span>
<span id="cb11-8"><a href="#cb11-8" tabindex="-1"></a><span class="do">## No id column passed. Assuming all rows are independent samples.</span></span>
<span id="cb11-9"><a href="#cb11-9" tabindex="-1"></a><span class="do">## </span><span class="al">NOTE</span><span class="do">: Results may be misleading due to involvement in interactions</span></span>
<span id="cb11-10"><a href="#cb11-10" tabindex="-1"></a><span class="do">## dv column detected: count</span></span>
<span id="cb11-11"><a href="#cb11-11" tabindex="-1"></a><span class="do">## No id column passed. Assuming all rows are independent samples.</span></span>
<span id="cb11-12"><a href="#cb11-12" tabindex="-1"></a><span class="do">## </span><span class="al">NOTE</span><span class="do">: Results may be misleading due to involvement in interactions</span></span>
<span id="cb11-13"><a href="#cb11-13" tabindex="-1"></a><span class="do">## dv column detected: count</span></span>
<span id="cb11-14"><a href="#cb11-14" tabindex="-1"></a><span class="do">## </span><span class="al">NOTE</span><span class="do">: Results may be misleading due to involvement in interactions</span></span></code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
<p>When plotting both variables, the problem is somewhat hidden, because
instead of beeswarm plots, semi-transparency (i.e., <code>alpha</code>
&lt; 1) is used to show overlapping points. In panel B we again make
this clearer but this time by adding jitter (on both the y- and x-axis)
and increasing the degree of semi-transparancy (i.e., decreasing
alpha).</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" tabindex="-1"></a>a <span class="ot">&lt;-</span> <span class="fu">afex_plot</span>(tmb, <span class="st">&quot;spp&quot;</span>, <span class="st">&quot;mined&quot;</span>)</span>
<span id="cb12-2"><a href="#cb12-2" tabindex="-1"></a><span class="do">## dv column detected: count</span></span>
<span id="cb12-3"><a href="#cb12-3" tabindex="-1"></a><span class="do">## No id column passed. Assuming all rows are independent samples.</span></span>
<span id="cb12-4"><a href="#cb12-4" tabindex="-1"></a> r</span>
<span id="cb12-5"><a href="#cb12-5" tabindex="-1"></a>b <span class="ot">&lt;-</span> <span class="fu">afex_plot</span>(tmb, <span class="st">&quot;spp&quot;</span>, <span class="st">&quot;mined&quot;</span>, <span class="at">data_alpha =</span> <span class="fl">0.3</span>,</span>
<span id="cb12-6"><a href="#cb12-6" tabindex="-1"></a>          <span class="at">data_arg =</span> <span class="fu">list</span>(</span>
<span id="cb12-7"><a href="#cb12-7" tabindex="-1"></a>            <span class="at">position =</span> </span>
<span id="cb12-8"><a href="#cb12-8" tabindex="-1"></a>              ggplot2<span class="sc">::</span><span class="fu">position_jitterdodge</span>(</span>
<span id="cb12-9"><a href="#cb12-9" tabindex="-1"></a>                <span class="at">jitter.width =</span> <span class="fl">0.2</span>, </span>
<span id="cb12-10"><a href="#cb12-10" tabindex="-1"></a>                <span class="at">jitter.height =</span> <span class="fl">0.5</span>, </span>
<span id="cb12-11"><a href="#cb12-11" tabindex="-1"></a>                <span class="at">dodge.width =</span> <span class="fl">0.5</span>  <span class="do">## needs to be same as dodge</span></span>
<span id="cb12-12"><a href="#cb12-12" tabindex="-1"></a>                ),</span>
<span id="cb12-13"><a href="#cb12-13" tabindex="-1"></a>            <span class="at">color =</span> <span class="st">&quot;darkgrey&quot;</span>))</span>
<span id="cb12-14"><a href="#cb12-14" tabindex="-1"></a><span class="do">## dv column detected: count</span></span>
<span id="cb12-15"><a href="#cb12-15" tabindex="-1"></a><span class="do">## No id column passed. Assuming all rows are independent samples.</span></span>
<span id="cb12-16"><a href="#cb12-16" tabindex="-1"></a> r</span>
<span id="cb12-17"><a href="#cb12-17" tabindex="-1"></a><span class="fu">plot_grid</span>(a, b, <span class="at">labels =</span> <span class="st">&quot;AUTO&quot;</span>)</span></code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
<p>For the final plot we also plot the interaction, but this time
aggregate the individual-data within site. This allows us again to use a
beeswarm plot (after decreasing the width of the “bees”) and produces a
relatively clear result.</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" tabindex="-1"></a><span class="fu">afex_plot</span>(tmb, <span class="st">&quot;spp&quot;</span>, <span class="st">&quot;mined&quot;</span>, <span class="at">id =</span> <span class="st">&quot;site&quot;</span>, <span class="at">data =</span> Salamanders, </span>
<span id="cb13-2"><a href="#cb13-2" tabindex="-1"></a>          <span class="at">data_geom =</span> ggbeeswarm<span class="sc">::</span>geom_beeswarm, </span>
<span id="cb13-3"><a href="#cb13-3" tabindex="-1"></a>          <span class="at">data_arg =</span> <span class="fu">list</span>(<span class="at">dodge.width =</span> <span class="fl">0.5</span>, <span class="at">cex =</span> <span class="fl">0.4</span>,</span>
<span id="cb13-4"><a href="#cb13-4" tabindex="-1"></a>                          <span class="at">color =</span> <span class="st">&quot;darkgrey&quot;</span>)</span>
<span id="cb13-5"><a href="#cb13-5" tabindex="-1"></a>          )</span>
<span id="cb13-6"><a href="#cb13-6" tabindex="-1"></a><span class="do">## dv column detected: count</span></span></code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
</div>
<div id="rstanarm" class="section level1">
<h1>rstanarm</h1>
<p><code>afex_plot()</code> also supports Bayesian models that are also
supported via <code>emmeans</code>. For example, we can easily fit a
binomial model with <a href="https://cran.r-project.org/package=rstanarm"><code>rstanarm</code></a>.</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" tabindex="-1"></a><span class="fu">library</span>(<span class="st">&quot;rstanarm&quot;</span>) <span class="do">## requires resetting the ggplot2 theme</span></span>
<span id="cb14-2"><a href="#cb14-2" tabindex="-1"></a><span class="fu">theme_set</span>(<span class="fu">theme_bw</span>(<span class="at">base_size =</span> <span class="dv">14</span>) <span class="sc">+</span> </span>
<span id="cb14-3"><a href="#cb14-3" tabindex="-1"></a>            <span class="fu">theme</span>(<span class="at">legend.position=</span><span class="st">&quot;bottom&quot;</span>, </span>
<span id="cb14-4"><a href="#cb14-4" tabindex="-1"></a>                  <span class="at">panel.grid.major.x =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb14-5"><a href="#cb14-5" tabindex="-1"></a>                  <span class="at">panel.grid.minor.x =</span> <span class="fu">element_blank</span>()))</span>
<span id="cb14-6"><a href="#cb14-6" tabindex="-1"></a>cbpp <span class="ot">&lt;-</span> lme4<span class="sc">::</span>cbpp </span>
<span id="cb14-7"><a href="#cb14-7" tabindex="-1"></a>cbpp<span class="sc">$</span>prob <span class="ot">&lt;-</span> <span class="fu">with</span>(cbpp, incidence <span class="sc">/</span> size)</span>
<span id="cb14-8"><a href="#cb14-8" tabindex="-1"></a>example_model <span class="ot">&lt;-</span> <span class="fu">stan_glmer</span>(prob <span class="sc">~</span> period <span class="sc">+</span> (<span class="dv">1</span><span class="sc">|</span>herd),</span>
<span id="cb14-9"><a href="#cb14-9" tabindex="-1"></a>                            <span class="at">data =</span> cbpp, <span class="at">family =</span> binomial, <span class="at">weight =</span> size,</span>
<span id="cb14-10"><a href="#cb14-10" tabindex="-1"></a>                            <span class="at">chains =</span> <span class="dv">2</span>, <span class="at">cores =</span> <span class="dv">1</span>, <span class="at">seed =</span> <span class="dv">12345</span>, <span class="at">iter =</span> <span class="dv">500</span>)</span></code></pre></div>
<p>We can directly pass this model to <code>afex_plot</code>. However,
we also see quite some zeros leading to a not super nice plot. It looks
a bit better using a violin plot for the raw data.</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" tabindex="-1"></a>b1 <span class="ot">&lt;-</span> <span class="fu">afex_plot</span>(example_model, <span class="st">&quot;period&quot;</span>)</span>
<span id="cb15-2"><a href="#cb15-2" tabindex="-1"></a><span class="do">## dv column detected: prob</span></span>
<span id="cb15-3"><a href="#cb15-3" tabindex="-1"></a><span class="do">## No id column passed. Assuming all rows are independent samples.</span></span>
<span id="cb15-4"><a href="#cb15-4" tabindex="-1"></a>b2 <span class="ot">&lt;-</span> <span class="fu">afex_plot</span>(example_model, <span class="st">&quot;period&quot;</span>, <span class="at">data_geom =</span> geom_violin)</span>
<span id="cb15-5"><a href="#cb15-5" tabindex="-1"></a><span class="do">## dv column detected: prob</span></span>
<span id="cb15-6"><a href="#cb15-6" tabindex="-1"></a><span class="do">## No id column passed. Assuming all rows are independent samples.</span></span>
<span id="cb15-7"><a href="#cb15-7" tabindex="-1"></a><span class="fu">plot_grid</span>(b1, b2, <span class="at">labels =</span> <span class="st">&quot;AUTO&quot;</span>)</span></code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
<p>We can also produce a plot based on the individual Bernoulli
observations in the data. For this, we first need to expand the data
such that we have one row per observation. With this, we can then fit
the essentially same model as above.</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" tabindex="-1"></a>cbpp_l <span class="ot">&lt;-</span> <span class="fu">vector</span>(<span class="st">&quot;list&quot;</span>, <span class="fu">nrow</span>(cbpp))</span>
<span id="cb16-2"><a href="#cb16-2" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="fu">seq_along</span>(cbpp_l)) {</span>
<span id="cb16-3"><a href="#cb16-3" tabindex="-1"></a>  cbpp_l[[i]] <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb16-4"><a href="#cb16-4" tabindex="-1"></a>    <span class="at">herd =</span> cbpp<span class="sc">$</span>herd[i],</span>
<span id="cb16-5"><a href="#cb16-5" tabindex="-1"></a>    <span class="at">period =</span> cbpp<span class="sc">$</span>period[i],</span>
<span id="cb16-6"><a href="#cb16-6" tabindex="-1"></a>    <span class="at">incidence =</span> <span class="fu">rep</span>(<span class="dv">0</span>, cbpp<span class="sc">$</span>size[i])</span>
<span id="cb16-7"><a href="#cb16-7" tabindex="-1"></a>  )</span>
<span id="cb16-8"><a href="#cb16-8" tabindex="-1"></a>  cbpp_l[[i]]<span class="sc">$</span>incidence[<span class="fu">seq_len</span>(cbpp<span class="sc">$</span>incidence[i])] <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb16-9"><a href="#cb16-9" tabindex="-1"></a>}</span>
<span id="cb16-10"><a href="#cb16-10" tabindex="-1"></a>cbpp_l <span class="ot">&lt;-</span> <span class="fu">do.call</span>(<span class="st">&quot;rbind&quot;</span>, cbpp_l)</span>
<span id="cb16-11"><a href="#cb16-11" tabindex="-1"></a>cbpp_l<span class="sc">$</span>herd <span class="ot">&lt;-</span> <span class="fu">factor</span>(cbpp_l<span class="sc">$</span>herd, <span class="at">levels =</span> <span class="fu">levels</span>(cbpp<span class="sc">$</span>herd))</span>
<span id="cb16-12"><a href="#cb16-12" tabindex="-1"></a>cbpp_l<span class="sc">$</span>period <span class="ot">&lt;-</span> <span class="fu">factor</span>(cbpp_l<span class="sc">$</span>period, <span class="at">levels =</span> <span class="fu">levels</span>(cbpp<span class="sc">$</span>period))</span>
<span id="cb16-13"><a href="#cb16-13" tabindex="-1"></a>example_model2 <span class="ot">&lt;-</span> <span class="fu">stan_glmer</span>(incidence <span class="sc">~</span> period <span class="sc">+</span> (<span class="dv">1</span><span class="sc">|</span>herd),</span>
<span id="cb16-14"><a href="#cb16-14" tabindex="-1"></a>                             <span class="at">data =</span> cbpp_l, <span class="at">family =</span> binomial, </span>
<span id="cb16-15"><a href="#cb16-15" tabindex="-1"></a>                             <span class="at">chains =</span> <span class="dv">2</span>, <span class="at">cores =</span> <span class="dv">1</span>, <span class="at">seed =</span> <span class="dv">12345</span>, <span class="at">iter =</span> <span class="dv">500</span>)</span></code></pre></div>
<p>Again, this model can be directly passed to <code>afex_plot</code>.
However, here we see even more 0 as the data is not yet aggregated.
Consequently, we need to pass <code>id = &quot;herd&quot;</code> to aggregate the
individual observations within each herd.</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" tabindex="-1"></a>b3 <span class="ot">&lt;-</span> <span class="fu">afex_plot</span>(example_model2, <span class="st">&quot;period&quot;</span>)</span>
<span id="cb17-2"><a href="#cb17-2" tabindex="-1"></a><span class="do">## dv column detected: incidence</span></span>
<span id="cb17-3"><a href="#cb17-3" tabindex="-1"></a><span class="do">## No id column passed. Assuming all rows are independent samples.</span></span>
<span id="cb17-4"><a href="#cb17-4" tabindex="-1"></a>b4 <span class="ot">&lt;-</span> <span class="fu">afex_plot</span>(example_model2, <span class="st">&quot;period&quot;</span>, <span class="at">id =</span> <span class="st">&quot;herd&quot;</span>)</span>
<span id="cb17-5"><a href="#cb17-5" tabindex="-1"></a><span class="do">## dv column detected: incidence</span></span>
<span id="cb17-6"><a href="#cb17-6" tabindex="-1"></a><span class="fu">plot_grid</span>(b3, b4, <span class="at">labels =</span> <span class="st">&quot;AUTO&quot;</span>)</span></code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
<p>We can of course also fit a model assuming a normal distribution
using <code>rstanarm</code>. For example using the <code>Machines</code>
data.</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" tabindex="-1"></a><span class="fu">data</span>(<span class="st">&quot;Machines&quot;</span>, <span class="at">package =</span> <span class="st">&quot;MEMSS&quot;</span>) </span>
<span id="cb18-2"><a href="#cb18-2" tabindex="-1"></a>mm <span class="ot">&lt;-</span> <span class="fu">stan_lmer</span>(score <span class="sc">~</span> Machine <span class="sc">+</span> (Machine<span class="sc">|</span>Worker), <span class="at">data=</span>Machines,</span>
<span id="cb18-3"><a href="#cb18-3" tabindex="-1"></a>                <span class="at">chains =</span> <span class="dv">2</span>, <span class="at">cores =</span> <span class="dv">1</span>, <span class="at">seed =</span> <span class="dv">12345</span>, <span class="at">iter =</span> <span class="dv">500</span>)</span></code></pre></div>
<p>As before, we can pass this model directly to <code>afex_plot</code>
(see panel A). However, the data is again not aggregated within the
grouping variable <code>Worker</code>. If we want to aggregate the
individual data points for the grouping factor, we need to pass both the
name of the grouping variable (<code>Worker</code>) and the data used
for fitting.</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" tabindex="-1"></a>b5 <span class="ot">&lt;-</span> <span class="fu">afex_plot</span>(mm, <span class="st">&quot;Machine&quot;</span>)</span>
<span id="cb19-2"><a href="#cb19-2" tabindex="-1"></a><span class="do">## dv column detected: score</span></span>
<span id="cb19-3"><a href="#cb19-3" tabindex="-1"></a><span class="do">## No id column passed. Assuming all rows are independent samples.</span></span>
<span id="cb19-4"><a href="#cb19-4" tabindex="-1"></a>b6 <span class="ot">&lt;-</span> <span class="fu">afex_plot</span>(mm, <span class="st">&quot;Machine&quot;</span>, <span class="at">id =</span> <span class="st">&quot;Worker&quot;</span>)</span>
<span id="cb19-5"><a href="#cb19-5" tabindex="-1"></a><span class="do">## dv column detected: score</span></span>
<span id="cb19-6"><a href="#cb19-6" tabindex="-1"></a><span class="fu">plot_grid</span>(b5, b6, <span class="at">labels =</span> <span class="st">&quot;AUTO&quot;</span>)</span></code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
</div>
<div id="brms" class="section level1">
<h1>brms</h1>
<p>We can also fit the <code>Machines</code> data using <a href="https://cran.r-project.org/package=brms"><code>brms</code></a>.</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" tabindex="-1"></a><span class="fu">library</span>(<span class="st">&quot;brms&quot;</span>)</span>
<span id="cb20-2"><a href="#cb20-2" tabindex="-1"></a><span class="fu">data</span>(<span class="st">&quot;Machines&quot;</span>, <span class="at">package =</span> <span class="st">&quot;MEMSS&quot;</span>) </span>
<span id="cb20-3"><a href="#cb20-3" tabindex="-1"></a>mm2 <span class="ot">&lt;-</span> <span class="fu">brm</span>(score <span class="sc">~</span> Machine <span class="sc">+</span> (Machine<span class="sc">|</span>Worker), <span class="at">data=</span>Machines, </span>
<span id="cb20-4"><a href="#cb20-4" tabindex="-1"></a>           <span class="at">chains =</span> <span class="dv">2</span>, <span class="at">cores =</span> <span class="dv">1</span>, <span class="at">seed =</span> <span class="dv">12345</span>, <span class="at">iter =</span> <span class="dv">500</span>)</span></code></pre></div>
<p>However, to pass a <code>brms</code> object to <code>afex_plot</code>
we need to pass both, the <code>data</code> used for fitting as well as
the name of the dependent variable (here <code>score</code>) via the
<code>dv</code> argument. We again build the plot such that the left
panel shows the raw data without aggregation and the right panel shows
the data aggregated within the grouping factor <code>Worker</code>.</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" tabindex="-1"></a>bb1 <span class="ot">&lt;-</span> <span class="fu">afex_plot</span>(mm2, <span class="st">&quot;Machine&quot;</span>, <span class="at">data =</span> Machines, <span class="at">dv =</span> <span class="st">&quot;score&quot;</span>)</span>
<span id="cb21-2"><a href="#cb21-2" tabindex="-1"></a><span class="do">## No id column passed. Assuming all rows are independent samples.</span></span>
<span id="cb21-3"><a href="#cb21-3" tabindex="-1"></a>bb2 <span class="ot">&lt;-</span> <span class="fu">afex_plot</span>(mm2, <span class="st">&quot;Machine&quot;</span>, <span class="at">id =</span> <span class="st">&quot;Worker&quot;</span>, </span>
<span id="cb21-4"><a href="#cb21-4" tabindex="-1"></a>          <span class="at">data =</span> Machines, <span class="at">dv =</span> <span class="st">&quot;score&quot;</span>)</span>
<span id="cb21-5"><a href="#cb21-5" tabindex="-1"></a><span class="fu">plot_grid</span>(bb1, bb2)</span></code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
</div>
<div id="not-yet-supported-glmmadaptive" class="section level1">
<h1>Not Yet Supported: GLMMadaptive</h1>
<p>Some models are unfortunately not yet supported. For example, models
fit with the new and pretty cool looking <a href="https://cran.r-project.org/package=GLMMadaptive"><code>GLMMadaptive</code></a>
package using some of the special families do not seem to produce
reasonable results. The following unfortunately does not produce a
reasonable plot.</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" tabindex="-1"></a><span class="fu">library</span>(<span class="st">&quot;GLMMadaptive&quot;</span>)</span>
<span id="cb22-2"><a href="#cb22-2" tabindex="-1"></a><span class="fu">data</span>(Salamanders, <span class="at">package =</span> <span class="st">&quot;glmmTMB&quot;</span>)</span>
<span id="cb22-3"><a href="#cb22-3" tabindex="-1"></a>gm1 <span class="ot">&lt;-</span> <span class="fu">mixed_model</span>(count<span class="sc">~</span>spp <span class="sc">*</span> mined, <span class="at">random =</span> <span class="sc">~</span> <span class="dv">1</span> <span class="sc">|</span> site, <span class="at">data =</span> Salamanders,</span>
<span id="cb22-4"><a href="#cb22-4" tabindex="-1"></a>                   <span class="at">family =</span> <span class="fu">zi.poisson</span>(), <span class="at">zi_fixed =</span> <span class="sc">~</span> mined)</span>
<span id="cb22-5"><a href="#cb22-5" tabindex="-1"></a></span>
<span id="cb22-6"><a href="#cb22-6" tabindex="-1"></a><span class="fu">afex_plot</span>(gm1, <span class="st">&quot;spp&quot;</span>, <span class="at">data =</span> Salamanders)</span></code></pre></div>
</div>



<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
